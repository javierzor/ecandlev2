<ion-header>
  <ion-toolbar class="ion-text-center">
    <ion-title>eCandle</ion-title>
  </ion-toolbar>


  <ion-fab-button (click)="this.storageService.compartir()" style="position:absolute; top:3px; right:4px;z-index: 222;">
    <ion-icon name="share-social"> </ion-icon>
  </ion-fab-button>

</ion-header>

<ion-content class="ion-padding">

  <section *ngIf="step === '1'" class="step-container">
    <div class="fondo-estrellas">
      <div class="contenido-principal">
        <ion-card class="welcome-card animate-in">
          <ion-card-header>
            <ion-card-title>Bienvenido a eCandle</ion-card-title>
            <ion-card-subtitle>Tu app para celebrar cumpleaños y baby showers con estilo único</ion-card-subtitle>
          </ion-card-header>
          <ion-card-content>
            <p>
              Conviértete en el centro de atención con animaciones especiales colocadas en nuestras fundas exclusivas.
              Personaliza tu edad, estilo y privacidad. Comparte momentos únicos como nunca antes.
            </p>
            <ion-button class="cta-button" fill="clear" expand="block" href="https://ecandle.es/" target="_blank">
              Comprar funda personalizada
            </ion-button>
          </ion-card-content>
        </ion-card>

        <ion-card class="tutorial-card animate-in">
          <ion-card-header>
            <ion-card-title>¿Cómo funciona?</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <ion-list lines="none">
              <ion-item><ion-icon name="sparkles" slot="start"></ion-icon>Selecciona tu edad</ion-item>
              <ion-item><ion-icon name="lock-closed" slot="start"></ion-icon>Configura tu privacidad</ion-item>
              <ion-item><ion-icon name="color-palette" slot="start"></ion-icon>Personaliza los colores</ion-item>
              <ion-item><ion-icon name="play-circle" slot="start"></ion-icon>Elige una animación y comienza</ion-item>
            </ion-list>
            <ion-button expand="block" shape="round" fill="solid" (click)="step2()">
              ¡Empezar ahora!
            </ion-button>
          </ion-card-content>
        </ion-card>
      </div>
    </div>
  </section>



  <section *ngIf="step=='2'">

    <h2>¿Cuántos años cumple?</h2>

    <div class="age-selector">
      <ion-button (click)="decreaseAge()" fill="outline" shape="round">
        <ion-icon name="remove-outline"></ion-icon>
      </ion-button>

      <ion-select [(ngModel)]="selectedAge" interface="popover" (ionChange)="onAgeChange()">
        <ion-select-option *ngFor="let age of ages" [value]="age">
          {{ age }} años
        </ion-select-option>
      </ion-select>

      <ion-button (click)="increaseAge()" fill="outline" shape="round">
        <ion-icon name="add-outline"></ion-icon>
      </ion-button>
    </div>

    <ion-text *ngIf="selectedAge<1" disabled="true" disabled readonly="true" readonly>
      Haz seleccionado 0 años "Baby Shower" por lo que autoconfiguraremos el nombre del bebe para que lo puedas mostrar
      en
      el proximo paso seleccione los meses:
    </ion-text>

    <ion-grid *ngIf="selectedAge<1" style="margin-top: 10px;" no-padding class="ion-no-padding">
      <ion-row no-padding class="ion-no-padding">
        <ion-col size="1" no-padding class="ion-no-padding">
          <div class="ion-text-center bordesshower fuentesbabyshower" (click)="shower_meses='1';cambio_mes_shower()"
            [ngClass]="shower_meses==='1' ? 'borderselected' : ''">
            1
          </div>
        </ion-col>
        <ion-col size="1">
          <div class="ion-text-center bordesshower fuentesbabyshower" (click)="shower_meses='2';cambio_mes_shower()"
            [ngClass]="shower_meses==='2' ? 'borderselected' : ''">
            2
          </div>
        </ion-col>
        <ion-col size="1">
          <div class="ion-text-center bordesshower fuentesbabyshower" (click)="shower_meses='3';cambio_mes_shower()"
            [ngClass]="shower_meses==='3' ? 'borderselected' : ''">
            3
          </div>
        </ion-col>
        <ion-col size="1">
          <div class="ion-text-center bordesshower fuentesbabyshower" (click)="shower_meses='4';cambio_mes_shower()"
            [ngClass]="shower_meses==='4' ? 'borderselected' : ''">
            4
          </div>
        </ion-col>
        <ion-col size="1">
          <div class="ion-text-center bordesshower fuentesbabyshower" (click)="shower_meses='5';cambio_mes_shower()"
            [ngClass]="shower_meses==='5' ? 'borderselected' : ''">
            5
          </div>
        </ion-col>
        <ion-col size="1">
          <div class="ion-text-center bordesshower fuentesbabyshower" (click)="shower_meses='6';cambio_mes_shower()"
            [ngClass]="shower_meses==='6' ? 'borderselected' : ''">
            6
          </div>
        </ion-col>
        <ion-col size="1">
          <div class="ion-text-center bordesshower fuentesbabyshower" (click)="shower_meses='7';cambio_mes_shower()"
            [ngClass]="shower_meses==='7' ? 'borderselected' : ''">
            7
          </div>
        </ion-col>
        <ion-col size="1">
          <div class="ion-text-center bordesshower fuentesbabyshower" (click)="shower_meses='8';cambio_mes_shower()"
            [ngClass]="shower_meses==='8' ? 'borderselected' : ''">
            8
          </div>
        </ion-col>
        <ion-col size="1">
          <div class="ion-text-center bordesshower fuentesbabyshower" (click)="shower_meses='9';cambio_mes_shower()"
            [ngClass]="shower_meses==='9' ? 'borderselected' : ''">
            9
          </div>
        </ion-col>
        <ion-col size="1">
          <div class="ion-text-center bordesshower fuentesbabyshower" (click)="shower_meses='10';cambio_mes_shower()"
            [ngClass]="shower_meses==='10' ? 'borderselected' : ''">
            10
          </div>
        </ion-col>
        <ion-col size="1">
          <div class="ion-text-center bordesshower fuentesbabyshower" (click)="shower_meses='11';cambio_mes_shower()"
            [ngClass]="shower_meses==='11' ? 'borderselected' : ''">
            11
          </div>
        </ion-col>
        <ion-col size="1">
          <div class="ion-text-center bordesshower fuentesbabyshower" (click)="shower_meses='12';cambio_mes_shower()"
            [ngClass]="shower_meses==='12' ? 'borderselected' : ''">
            12
          </div>
        </ion-col>
      </ion-row>

    </ion-grid>

    <ng-container *ngIf="selectedAge>9">

      <ion-list>

        <ion-radio-group [(ngModel)]="maskType" (ionChange)="updateMaskedAge()">
          <ion-list-header>
            <ion-label>Opciones de privacidad</ion-label>
          </ion-list-header>

          <ion-item (click)="maskType='none'; updateMaskedAge()">
            <ion-label>Mostrar todo ({{ getMaskedAge('none') }})</ion-label>
            <ion-radio slot="start" value="none"></ion-radio>
          </ion-item>

          <!-- <ion-item (click)="maskType='hide-decade' ; updateMaskedAge()">
        <ion-label>Ocultar decena ({{ getMaskedAge('hide-decade') }})</ion-label>
        <ion-radio slot="start" value="hide-decade"></ion-radio>
      </ion-item> -->

          <ion-item (click)="maskType='hide-unit' ; updateMaskedAge()">
            <ion-label>Ocultar ultimo numero ({{ getMaskedAge('hide-unit') }})</ion-label>
            <ion-radio slot="start" value="hide-unit"></ion-radio>
          </ion-item>
        </ion-radio-group>
      </ion-list>


    </ng-container>


    <h2>¿En qué idioma será la celebración?</h2>
    <div class="language-buttons">
      <ion-button *ngFor="let lang of languages" [color]="selectedLanguage === lang.code ? 'primary' : 'medium'"
        (click)="selectLanguage(lang.code)" expand="block" shape="round" class="language-button">
        {{ lang.label }}
      </ion-button>
    </div>

    <ion-button expand="block" shape="round" (click)="goToStep2()">
      Siguiente
    </ion-button>



  </section>

</ion-content>