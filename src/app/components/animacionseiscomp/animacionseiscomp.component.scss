:host {
  display: block;
  height: 100vh;
  width: 100%;
  overflow: hidden;
}

.animation-container {
  background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  perspective: 1200px;
  position: relative;
}

.birthday-text {
  text-align: center;
  z-index: 2;
  font-family: 'Comic Sans MS', cursive, sans-serif;
}

.planet-wrapper {
  animation: orbit 7s linear infinite;
  transform-style: preserve-3d;
  display: inline-block;
}

.age-planet {
  display: inline-block;
  transform-style: preserve-3d;
  animation: rotateInflate 7s linear infinite;
  span {
    font-size: 7rem;
    font-weight: bold;
    color: white;
    position: absolute;
    text-shadow:
      1px 1px 0 rgba(0,0,0,0.2),
      2px 2px 0 rgba(0,0,0,0.2),
      3px 3px 0 rgba(0,0,0,0.15),
      4px 4px 0 rgba(0,0,0,0.1);
  }
}

.age-planet span:nth-child(n) {
  --depth: calc(1px * var(--i));
}

.age-planet span {
  --i: 1;
}
.age-planet span:nth-child(1) { --i: 0; }
.age-planet span:nth-child(2) { --i: 1; }
.age-planet span:nth-child(3) { --i: 2; }
.age-planet span:nth-child(4) { --i: 3; }
.age-planet span:nth-child(5) { --i: 4; }
.age-planet span:nth-child(6) { --i: 5; }
.age-planet span:nth-child(7) { --i: 6; }
.age-planet span:nth-child(8) { --i: 7; }
.age-planet span:nth-child(9) { --i: 8; }
.age-planet span:nth-child(10) { --i: 9; }

@keyframes orbit {
  0% { transform: rotateY(0deg); }
  100% { transform: rotateY(360deg); }
}

@keyframes rotateInflate {
  0%, 100% { transform: rotateX(0deg) rotateY(0deg); }
  50% { transform: rotateX(30deg) rotateY(180deg); }
}

.explosion-container {
  display: inline-block;
  margin-bottom: 2rem;
  animation: explodeText 7s ease-in-out infinite;
}

.letter {
  display: inline-block;
  font-size: 2rem;
  color: white;
  animation: popLetter 7s ease-in-out infinite;
}

@keyframes explodeText {
  0% { transform: scale(0.5); opacity: 0; }
  25% { transform: scale(1.2); opacity: 1; }
  50% { transform: scale(1); }
  75% { transform: scale(1.1); opacity: 1; }
  100% { transform: scale(0.5); opacity: 0; }
}

@keyframes popLetter {
  0% { transform: translate(0, 0) scale(0.8); opacity: 0; }
  30% { transform: translate(-10px, -30px) scale(1.2) rotate(20deg); opacity: 1; }
  60% { transform: translate(10px, 10px) rotate(-20deg); }
  100% { transform: translate(0, 0) scale(0.8); opacity: 0; }
}

.particles {
  position: absolute;
  width: 300%;
  height: 300%;
  background-image:
    radial-gradient(circle, rgba(255,255,255,0.4) 2px, transparent 2px),
    radial-gradient(circle, rgba(255,255,255,0.2) 1px, transparent 1px);
  background-size: 80px 80px;
  z-index: 0;
  pointer-events: none;
}

.layer1 {
  animation: moveParticles 40s linear infinite;
}
.layer2 {
  animation: moveParticlesAlt 60s linear infinite;
}

@keyframes moveParticles {
  0% { transform: translate(0, 0); }
  100% { transform: translate(-1000px, -800px); }
}

@keyframes moveParticlesAlt {
  0% { transform: translate(0, 0); }
  100% { transform: translate(800px, 600px); }
}





// fuegos artificiales
.explosive-fireworks {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  transform-style: preserve-3d;
  width: 0;
  height: 0;
  z-index: 15;
  pointer-events: none;
}

.spark-line {
  position: absolute;
  transform-style: preserve-3d;

  .spark {
    transform-origin: 0 0;
    animation: moveSpark 3s ease-out infinite;
  }

  .fire {
    position: absolute;
    left: -3px;
    width: 5px;
    height: 5px;
    background: var(--color, white);
    animation: spinFire 3s linear infinite;

    &::before {
      content: '';
      position: absolute;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 100, 0.7);
      border-radius: 50%;
    }
  }
}

// Animaciones individuales
@for $i from 1 through 150 {
  .spark-line:nth-child(#{$i}) {
    // Rotación aleatoria
    $rotateX: random(360);
    $rotateY: random(360);
    $distance: random(300) + 100;

    transform: rotateX(#{$rotateX}deg) rotateY(#{$rotateY}deg);

    .spark {
      animation-name: spark#{$i};
    }

    @keyframes spark#{$i} {
      0% {
        transform: translate3d(0, 0, 0);
        opacity: 1;
      }
      100% {
        transform: translate3d(0, 0, #{$distance}px);
        opacity: 0;
      }
    }

    .fire {
      --color: hsl(#{random(360)}, 100%, 60%);
    }
  }
}

// Común
@keyframes moveSpark {
  0% { opacity: 0; }
  20% { opacity: 1; }
  80% { opacity: 1; }
  100% { opacity: 0; }
}

@keyframes spinFire {
  0% { transform: rotateX(0) rotateY(0) rotateZ(0); }
  100% { transform: rotateX(360deg) rotateY(720deg) rotateZ(1080deg); }
}


.tinted-gif {
  filter: brightness(0) saturate(100%) invert(42%) sepia(62%) saturate(1000%) hue-rotate(200deg);
  mix-blend-mode: screen;
}


